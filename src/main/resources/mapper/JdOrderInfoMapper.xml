<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="bi.baiqiu.mapper.JdOrderInfoMapper">
	<resultMap id="BaseResultMap" type="bi.baiqiu.pojo.JdOrderInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		<id column="id" property="id" jdbcType="BIGINT" />
		<result column="shop_id" property="shopId" jdbcType="BIGINT" />
		<result column="order_id" property="orderId" jdbcType="VARCHAR" />
		<result column="pay_type" property="payType" jdbcType="INTEGER" />
		<result column="order_total_price" property="orderTotalPrice"
			jdbcType="DECIMAL" />
		<result column="order_payment" property="orderPayment"
			jdbcType="DECIMAL" />
		<result column="freight_price" property="freightPrice"
			jdbcType="DECIMAL" />
		<result column="seller_discount" property="sellerDiscount"
			jdbcType="DECIMAL" />
		<result column="order_state" property="orderState" jdbcType="VARCHAR" />
		<result column="order_remark" property="orderRemark" jdbcType="VARCHAR" />
		<result column="order_start_time" property="orderStartTime"
			jdbcType="TIMESTAMP" />
		<result column="order_end_time" property="orderEndTime"
			jdbcType="TIMESTAMP" />
		<result column="consignee_info" property="consigneeInfo"
			jdbcType="VARCHAR" />
		<result column="item_info_list" property="itemInfoList"
			jdbcType="VARCHAR" />
		<result column="vender_remark" property="venderRemark"
			jdbcType="VARCHAR" />
		<result column="pin" property="pin" jdbcType="VARCHAR" />
		<result column="modified" property="modified" jdbcType="TIMESTAMP" />
		<result column="payment_confirm_time" property="paymentConfirmTime"
			jdbcType="TIMESTAMP" />
		<result column="coupon_detail_list" property="couponDetailList"
			jdbcType="VARCHAR" />
	</resultMap>
	<sql id="Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		<where>
			<foreach collection="oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Update_By_Example_Where_Clause">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		<where>
			<foreach collection="example.oredCriteria" item="criteria"
				separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									and ${criterion.condition}
								</when>
								<when test="criterion.singleValue">
									and ${criterion.condition} #{criterion.value}
								</when>
								<when test="criterion.betweenValue">
									and ${criterion.condition} #{criterion.value}
									and
									#{criterion.secondValue}
								</when>
								<when test="criterion.listValue">
									and ${criterion.condition}
									<foreach collection="criterion.value" item="listItem"
										open="(" close=")" separator=",">
										#{listItem}
									</foreach>
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</where>
	</sql>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		id, shop_id, order_id, pay_type, order_total_price, order_payment,
		freight_price,
		seller_discount, order_state, order_remark,
		order_start_time, order_end_time,
		consignee_info,
		item_info_list,
		vender_remark, pin, modified, payment_confirm_time,
		coupon_detail_list
	</sql>
	<select id="selectByExample" resultMap="BaseResultMap"
		parameterType="bi.baiqiu.pojo.JdOrderInfoExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		select
		<if test="distinct">
			distinct
		</if>
		'true' as QUERYID,
		<include refid="Base_Column_List" />
		from bi_jd_order_info
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
		<if test="orderByClause != null">
			order by ${orderByClause}
		</if>
	</select>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Long">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		select
		<include refid="Base_Column_List" />
		from bi_jd_order_info
		where id = #{id,jdbcType=BIGINT}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		delete from bi_jd_order_info
		where id = #{id,jdbcType=BIGINT}
	</delete>
	<delete id="deleteByExample" parameterType="bi.baiqiu.pojo.JdOrderInfoExample">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		delete from bi_jd_order_info
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</delete>
	<insert id="insert" parameterType="bi.baiqiu.pojo.JdOrderInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		insert into bi_jd_order_info (id, shop_id, order_id,
		pay_type,
		order_total_price, order_payment,
		freight_price, seller_discount,
		order_state,
		order_remark, order_start_time, order_end_time,
		consignee_info, item_info_list, vender_remark,
		pin, modified,
		payment_confirm_time,
		coupon_detail_list)
		values (#{id,jdbcType=BIGINT},
		#{shopId,jdbcType=BIGINT},
		#{orderId,jdbcType=VARCHAR},
		#{payType,jdbcType=INTEGER}, #{orderTotalPrice,jdbcType=DECIMAL},
		#{orderPayment,jdbcType=DECIMAL},
		#{freightPrice,jdbcType=DECIMAL},
		#{sellerDiscount,jdbcType=DECIMAL}, #{orderState,jdbcType=VARCHAR},
		#{orderRemark,jdbcType=VARCHAR}, #{orderStartTime,jdbcType=TIMESTAMP},
		#{orderEndTime,jdbcType=TIMESTAMP},
		#{consigneeInfo,jdbcType=VARCHAR},
		#{itemInfoList,jdbcType=VARCHAR}, #{venderRemark,jdbcType=VARCHAR},
		#{pin,jdbcType=VARCHAR}, #{modified,jdbcType=TIMESTAMP},
		#{paymentConfirmTime,jdbcType=TIMESTAMP},
		#{couponDetailList,jdbcType=VARCHAR})
	</insert>
	<insert id="insertByJdOrderInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		insert into bi_jd_order_info ( shop_id, order_id,
		pay_type,
		order_total_price, order_payment,
		freight_price, seller_discount,
		order_state,
		order_remark, order_start_time, order_end_time,
		consignee_info, item_info_list, vender_remark,
		pin, modified,
		payment_confirm_time,
		coupon_detail_list)
		values
		(#{shopId,jdbcType=BIGINT}, #{orderInfo.orderId,jdbcType=VARCHAR},
		#{orderInfo.payType,jdbcType=INTEGER},
		#{orderInfo.orderTotalPrice,jdbcType=DECIMAL},
		#{orderInfo.orderPayment,jdbcType=DECIMAL},
		#{orderInfo.freightPrice,jdbcType=DECIMAL},
		#{orderInfo.sellerDiscount,jdbcType=DECIMAL},
		#{orderInfo.orderState,jdbcType=VARCHAR},
		#{orderInfo.orderRemark,jdbcType=VARCHAR},
		#{orderInfo.orderStartTime,jdbcType=TIMESTAMP},
		#{orderInfo.orderEndTime,jdbcType=TIMESTAMP},
		#{orderInfo.consigneeInfo,jdbcType=VARCHAR},
		#{orderInfo.itemInfoList,jdbcType=VARCHAR},
		#{orderInfo.venderRemark,jdbcType=VARCHAR},
		#{orderInfo.pin,jdbcType=VARCHAR},
		#{orderInfo.modified,jdbcType=TIMESTAMP},
		#{orderInfo.paymentConfirmTime,jdbcType=TIMESTAMP},
		#{orderInfo.couponDetailList,jdbcType=VARCHAR})
	</insert>
	<insert id="insertByJdOrderInfoByBatch">
		replace into bi_jd_order_info ( shop_id, order_id,
		pay_type,
		order_total_price, order_payment,
		freight_price, seller_discount,
		order_state,
		order_remark, order_start_time, order_end_time,
		vender_remark,
		pin, modified, payment_confirm_time)
		values
		<foreach collection="orderInfo" item="item" index="index"
			separator=",">
			(
			#{shopId,jdbcType=BIGINT},
			#{item.orderId,jdbcType=VARCHAR},
			#{item.payType,jdbcType=INTEGER},
			#{item.orderTotalPrice,jdbcType=DECIMAL},
			#{item.orderPayment,jdbcType=DECIMAL},
			#{item.freightPrice,jdbcType=DECIMAL},
			#{item.sellerDiscount,jdbcType=DECIMAL},
			#{item.orderState,jdbcType=VARCHAR},
			#{item.orderRemark,jdbcType=VARCHAR},
			#{item.orderStartTime,jdbcType=TIMESTAMP},
			#{item.orderEndTime,jdbcType=TIMESTAMP},
			#{item.venderRemark,jdbcType=VARCHAR},
			#{item.pin,jdbcType=VARCHAR},
			#{item.modified,jdbcType=TIMESTAMP},
			str_to_date(#{item.paymentConfirmTime,jdbcType=TIMESTAMP},'%Y-%m-%d
			%H:%i:%s %p'))
		</foreach>
	</insert>


	<insert id="insertSelective" parameterType="bi.baiqiu.pojo.JdOrderInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		insert into bi_jd_order_info
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="shopId != null">
				shop_id,
			</if>
			<if test="orderId != null">
				order_id,
			</if>
			<if test="payType != null">
				pay_type,
			</if>
			<if test="orderTotalPrice != null">
				order_total_price,
			</if>
			<if test="orderPayment != null">
				order_payment,
			</if>
			<if test="freightPrice != null">
				freight_price,
			</if>
			<if test="sellerDiscount != null">
				seller_discount,
			</if>
			<if test="orderState != null">
				order_state,
			</if>
			<if test="orderRemark != null">
				order_remark,
			</if>
			<if test="orderStartTime != null">
				order_start_time,
			</if>
			<if test="orderEndTime != null">
				order_end_time,
			</if>
			<if test="consigneeInfo != null">
				consignee_info,
			</if>
			<if test="itemInfoList != null">
				item_info_list,
			</if>
			<if test="venderRemark != null">
				vender_remark,
			</if>
			<if test="pin != null">
				pin,
			</if>
			<if test="modified != null">
				modified,
			</if>
			<if test="paymentConfirmTime != null">
				payment_confirm_time,
			</if>
			<if test="couponDetailList != null">
				coupon_detail_list,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=BIGINT},
			</if>
			<if test="shopId != null">
				#{shopId,jdbcType=BIGINT},
			</if>
			<if test="orderId != null">
				#{orderId,jdbcType=VARCHAR},
			</if>
			<if test="payType != null">
				#{payType,jdbcType=INTEGER},
			</if>
			<if test="orderTotalPrice != null">
				#{orderTotalPrice,jdbcType=DECIMAL},
			</if>
			<if test="orderPayment != null">
				#{orderPayment,jdbcType=DECIMAL},
			</if>
			<if test="freightPrice != null">
				#{freightPrice,jdbcType=DECIMAL},
			</if>
			<if test="sellerDiscount != null">
				#{sellerDiscount,jdbcType=DECIMAL},
			</if>
			<if test="orderState != null">
				#{orderState,jdbcType=VARCHAR},
			</if>
			<if test="orderRemark != null">
				#{orderRemark,jdbcType=VARCHAR},
			</if>
			<if test="orderStartTime != null">
				#{orderStartTime,jdbcType=TIMESTAMP},
			</if>
			<if test="orderEndTime != null">
				#{orderEndTime,jdbcType=TIMESTAMP},
			</if>
			<if test="consigneeInfo != null">
				#{consigneeInfo,jdbcType=VARCHAR},
			</if>
			<if test="itemInfoList != null">
				#{itemInfoList,jdbcType=VARCHAR},
			</if>
			<if test="venderRemark != null">
				#{venderRemark,jdbcType=VARCHAR},
			</if>
			<if test="pin != null">
				#{pin,jdbcType=VARCHAR},
			</if>
			<if test="modified != null">
				#{modified,jdbcType=TIMESTAMP},
			</if>
			<if test="paymentConfirmTime != null">
				#{paymentConfirmTime,jdbcType=TIMESTAMP},
			</if>
			<if test="couponDetailList != null">
				#{couponDetailList,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<select id="countByExample" parameterType="bi.baiqiu.pojo.JdOrderInfoExample"
		resultType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		select count(*) from bi_jd_order_info
		<if test="_parameter != null">
			<include refid="Example_Where_Clause" />
		</if>
	</select>
	<update id="updateByExampleSelective" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		update bi_jd_order_info
		<set>
			<if test="record.id != null">
				id = #{record.id,jdbcType=BIGINT},
			</if>
			<if test="record.shopId != null">
				shop_id = #{record.shopId,jdbcType=BIGINT},
			</if>
			<if test="record.orderId != null">
				order_id = #{record.orderId,jdbcType=VARCHAR},
			</if>
			<if test="record.payType != null">
				pay_type = #{record.payType,jdbcType=INTEGER},
			</if>
			<if test="record.orderTotalPrice != null">
				order_total_price =
				#{record.orderTotalPrice,jdbcType=DECIMAL},
			</if>
			<if test="record.orderPayment != null">
				order_payment = #{record.orderPayment,jdbcType=DECIMAL},
			</if>
			<if test="record.freightPrice != null">
				freight_price = #{record.freightPrice,jdbcType=DECIMAL},
			</if>
			<if test="record.sellerDiscount != null">
				seller_discount =
				#{record.sellerDiscount,jdbcType=DECIMAL},
			</if>
			<if test="record.orderState != null">
				order_state = #{record.orderState,jdbcType=VARCHAR},
			</if>
			<if test="record.orderRemark != null">
				order_remark = #{record.orderRemark,jdbcType=VARCHAR},
			</if>
			<if test="record.orderStartTime != null">
				order_start_time =
				#{record.orderStartTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.orderEndTime != null">
				order_end_time =
				#{record.orderEndTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.consigneeInfo != null">
				consignee_info =
				#{record.consigneeInfo,jdbcType=VARCHAR},
			</if>
			<if test="record.itemInfoList != null">
				item_info_list = #{record.itemInfoList,jdbcType=VARCHAR},
			</if>
			<if test="record.venderRemark != null">
				vender_remark = #{record.venderRemark,jdbcType=VARCHAR},
			</if>
			<if test="record.pin != null">
				pin = #{record.pin,jdbcType=VARCHAR},
			</if>
			<if test="record.modified != null">
				modified = #{record.modified,jdbcType=TIMESTAMP},
			</if>
			<if test="record.paymentConfirmTime != null">
				payment_confirm_time =
				#{record.paymentConfirmTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.couponDetailList != null">
				coupon_detail_list =
				#{record.couponDetailList,jdbcType=VARCHAR},
			</if>
		</set>
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByExample" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		update bi_jd_order_info
		set id = #{record.id,jdbcType=BIGINT},
		shop_id =
		#{record.shopId,jdbcType=BIGINT},
		order_id =
		#{record.orderId,jdbcType=VARCHAR},
		pay_type =
		#{record.payType,jdbcType=INTEGER},
		order_total_price =
		#{record.orderTotalPrice,jdbcType=DECIMAL},
		order_payment =
		#{record.orderPayment,jdbcType=DECIMAL},
		freight_price =
		#{record.freightPrice,jdbcType=DECIMAL},
		seller_discount =
		#{record.sellerDiscount,jdbcType=DECIMAL},
		order_state =
		#{record.orderState,jdbcType=VARCHAR},
		order_remark =
		#{record.orderRemark,jdbcType=VARCHAR},
		order_start_time =
		#{record.orderStartTime,jdbcType=TIMESTAMP},
		order_end_time =
		#{record.orderEndTime,jdbcType=TIMESTAMP},
		consignee_info =
		#{record.consigneeInfo,jdbcType=VARCHAR},
		item_info_list =
		#{record.itemInfoList,jdbcType=VARCHAR},
		vender_remark =
		#{record.venderRemark,jdbcType=VARCHAR},
		pin =
		#{record.pin,jdbcType=VARCHAR},
		modified =
		#{record.modified,jdbcType=TIMESTAMP},
		payment_confirm_time =
		#{record.paymentConfirmTime,jdbcType=TIMESTAMP},
		coupon_detail_list =
		#{record.couponDetailList,jdbcType=VARCHAR}
		<if test="_parameter != null">
			<include refid="Update_By_Example_Where_Clause" />
		</if>
	</update>
	<update id="updateByPrimaryKeySelective" parameterType="bi.baiqiu.pojo.JdOrderInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		update bi_jd_order_info
		<set>
			<if test="shopId != null">
				shop_id = #{shopId,jdbcType=BIGINT},
			</if>
			<if test="orderId != null">
				order_id = #{orderId,jdbcType=VARCHAR},
			</if>
			<if test="payType != null">
				pay_type = #{payType,jdbcType=INTEGER},
			</if>
			<if test="orderTotalPrice != null">
				order_total_price = #{orderTotalPrice,jdbcType=DECIMAL},
			</if>
			<if test="orderPayment != null">
				order_payment = #{orderPayment,jdbcType=DECIMAL},
			</if>
			<if test="freightPrice != null">
				freight_price = #{freightPrice,jdbcType=DECIMAL},
			</if>
			<if test="sellerDiscount != null">
				seller_discount = #{sellerDiscount,jdbcType=DECIMAL},
			</if>
			<if test="orderState != null">
				order_state = #{orderState,jdbcType=VARCHAR},
			</if>
			<if test="orderRemark != null">
				order_remark = #{orderRemark,jdbcType=VARCHAR},
			</if>
			<if test="orderStartTime != null">
				order_start_time = #{orderStartTime,jdbcType=TIMESTAMP},
			</if>
			<if test="orderEndTime != null">
				order_end_time = #{orderEndTime,jdbcType=TIMESTAMP},
			</if>
			<if test="consigneeInfo != null">
				consignee_info = #{consigneeInfo,jdbcType=VARCHAR},
			</if>
			<if test="itemInfoList != null">
				item_info_list = #{itemInfoList,jdbcType=VARCHAR},
			</if>
			<if test="venderRemark != null">
				vender_remark = #{venderRemark,jdbcType=VARCHAR},
			</if>
			<if test="pin != null">
				pin = #{pin,jdbcType=VARCHAR},
			</if>
			<if test="modified != null">
				modified = #{modified,jdbcType=TIMESTAMP},
			</if>
			<if test="paymentConfirmTime != null">
				payment_confirm_time =
				#{paymentConfirmTime,jdbcType=TIMESTAMP},
			</if>
			<if test="couponDetailList != null">
				coupon_detail_list =
				#{couponDetailList,jdbcType=VARCHAR},
			</if>
		</set>
		where id = #{id,jdbcType=BIGINT}
	</update>
	<update id="updateByPrimaryKey" parameterType="bi.baiqiu.pojo.JdOrderInfo">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Oct 17 
			16:27:59 CST 2017. -->
		update bi_jd_order_info
		set shop_id = #{shopId,jdbcType=BIGINT},
		order_id = #{orderId,jdbcType=VARCHAR},
		pay_type =
		#{payType,jdbcType=INTEGER},
		order_total_price =
		#{orderTotalPrice,jdbcType=DECIMAL},
		order_payment =
		#{orderPayment,jdbcType=DECIMAL},
		freight_price =
		#{freightPrice,jdbcType=DECIMAL},
		seller_discount =
		#{sellerDiscount,jdbcType=DECIMAL},
		order_state =
		#{orderState,jdbcType=VARCHAR},
		order_remark =
		#{orderRemark,jdbcType=VARCHAR},
		order_start_time =
		#{orderStartTime,jdbcType=TIMESTAMP},
		order_end_time =
		#{orderEndTime,jdbcType=TIMESTAMP},
		consignee_info =
		#{consigneeInfo,jdbcType=VARCHAR},
		item_info_list =
		#{itemInfoList,jdbcType=VARCHAR},
		vender_remark =
		#{venderRemark,jdbcType=VARCHAR},
		pin = #{pin,jdbcType=VARCHAR},
		modified = #{modified,jdbcType=TIMESTAMP},
		payment_confirm_time =
		#{paymentConfirmTime,jdbcType=TIMESTAMP},
		coupon_detail_list =
		#{couponDetailList,jdbcType=VARCHAR}
		where id = #{id,jdbcType=BIGINT}
	</update>
	<select id="getSaleByShopIdAndStartEndDate" resultType="map">
		SELECT
		IFNULL(SUM(orderInfo.order_payment),0) as saleGmv,
		COUNT(orderInfo.order_id) as
		orderNumber
		FROM
		bi_jd_order_info orderInfo
		WHERE
		shop_id=#{shopId}
		AND
		IF (
		payment_confirm_time = '0000-00-00
		00:00:00'||payment_confirm_time='0001-01-01
		00:00:00'||payment_confirm_time='1970-01-01 00:00:00',
		order_start_time,
		payment_confirm_time
		)<![CDATA[>=]]>
		#{startDate}
		AND
		IF (
		payment_confirm_time = '0000-00-00
		00:00:00'||payment_confirm_time='0001-01-01
		00:00:00'||payment_confirm_time='1970-01-01 00:00:00',
		order_start_time,
		payment_confirm_time
		)<![CDATA[<]]>#{endDate}
		AND `order_state` IN (
		'FINISHED_L',
		'WAIT_SELLER_STOCK_OUT',
		'WAIT_GOODS_RECEIVE_CONFIRM'
		)
	</select>
</mapper>